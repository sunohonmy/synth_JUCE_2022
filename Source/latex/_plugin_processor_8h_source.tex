\hypertarget{_plugin_processor_8h_source}{}\doxysection{Plugin\+Processor.\+h}
\mbox{\hyperlink{_plugin_processor_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ ==============================================================================}}
\DoxyCodeLine{3 \textcolor{comment}{ }}
\DoxyCodeLine{4 \textcolor{comment}{ This file contains the basic framework code for a JUCE plugin processor.}}
\DoxyCodeLine{5 \textcolor{comment}{ }}
\DoxyCodeLine{6 \textcolor{comment}{ ==============================================================================}}
\DoxyCodeLine{7 \textcolor{comment}{ */}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <JuceHeader.h>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 }
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{19 \textcolor{comment}{}\textcolor{keyword}{class }\mbox{\hyperlink{class_wavetable_oscillator}{WavetableOscillator}}}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21 \textcolor{keyword}{public}:}
\DoxyCodeLine{22     \mbox{\hyperlink{class_wavetable_oscillator_aecb60a5a92b6564f21c7bb2fb219f75e}{WavetableOscillator}} (juce::AudioSampleBuffer\& wavetableToUse)}
\DoxyCodeLine{23     : wavetable (wavetableToUse),}
\DoxyCodeLine{24     tableSize (wavetable.getNumSamples() -\/ 1)}
\DoxyCodeLine{25     \{}
\DoxyCodeLine{26         jassert (wavetable.getNumChannels() == 1);}
\DoxyCodeLine{27     \}}
\DoxyCodeLine{28     }
\DoxyCodeLine{29     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_wavetable_oscillator_afe407f9031511022b76ac557aa43c890}{setFrequency}} (\textcolor{keywordtype}{float} frequency, \textcolor{keywordtype}{float} sampleRate)}
\DoxyCodeLine{30     \{}
\DoxyCodeLine{31         \textcolor{keyword}{auto} tableSizeOverSampleRate = (float) tableSize / sampleRate;}
\DoxyCodeLine{32         tableDelta = frequency * tableSizeOverSampleRate;}
\DoxyCodeLine{33     \}}
\DoxyCodeLine{34     }
\DoxyCodeLine{35     forcedinline \textcolor{keywordtype}{float} \mbox{\hyperlink{class_wavetable_oscillator_a8d0058e7d71a4394f72698393874e0c6}{getNextSample}}() noexcept}
\DoxyCodeLine{36     \{}
\DoxyCodeLine{37         }
\DoxyCodeLine{38         \textcolor{keyword}{auto} index0 = (\textcolor{keywordtype}{unsigned} int) currentIndex;}
\DoxyCodeLine{39         \textcolor{keyword}{auto} index1 = index0 + 1;}
\DoxyCodeLine{40         }
\DoxyCodeLine{41         \textcolor{keyword}{auto} frac = currentIndex -\/ (float) index0;}
\DoxyCodeLine{42         }
\DoxyCodeLine{43         \textcolor{keyword}{auto}* table = wavetable.getReadPointer (0);}
\DoxyCodeLine{44         \textcolor{keyword}{auto} value0 = table[index0];}
\DoxyCodeLine{45         \textcolor{keyword}{auto} value1 = table[index1];}
\DoxyCodeLine{46         }
\DoxyCodeLine{47         \textcolor{keyword}{auto} currentSample = value0 + frac * (value1 -\/ value0);}
\DoxyCodeLine{48         }
\DoxyCodeLine{49         \textcolor{keywordflow}{if} ((currentIndex += tableDelta) > (float) tableSize)}
\DoxyCodeLine{50             currentIndex -\/= (float) tableSize;}
\DoxyCodeLine{51         }
\DoxyCodeLine{52         \textcolor{keywordflow}{return} currentSample;}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54     }
\DoxyCodeLine{55     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_wavetable_oscillator_a89833a02052341b6971cf1829dcc116d}{setWavetable}}(\textcolor{keyword}{const} juce::AudioSampleBuffer\& wavetableToUse)}
\DoxyCodeLine{56     \{}
\DoxyCodeLine{57         jassert (wavetableToUse.getNumChannels() == 1);}
\DoxyCodeLine{58         }
\DoxyCodeLine{59         wavetable = wavetableToUse;}
\DoxyCodeLine{60         tableSize = wavetable.getNumSamples() -\/ 1;}
\DoxyCodeLine{61         }
\DoxyCodeLine{62     \}}
\DoxyCodeLine{63     }
\DoxyCodeLine{64     juce::AudioSampleBuffer\& \mbox{\hyperlink{class_wavetable_oscillator_a46149abb0e64d4d929801d3ecb27b03b}{getWavetable}}()}
\DoxyCodeLine{65     \{}
\DoxyCodeLine{66         \textcolor{keywordflow}{return} wavetable;}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68     }
\DoxyCodeLine{69 \textcolor{keyword}{private}:}
\DoxyCodeLine{70     juce::AudioSampleBuffer\& wavetable;}
\DoxyCodeLine{71     \textcolor{keywordtype}{int} tableSize;}
\DoxyCodeLine{72     \textcolor{keywordtype}{float} currentIndex = 0.0f, tableDelta = 0.0f;}
\DoxyCodeLine{73 \};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 \textcolor{keyword}{class }\mbox{\hyperlink{class_sine_wave_sound}{SineWaveSound}} : \textcolor{keyword}{public} juce::SynthesiserSound}
\DoxyCodeLine{76 \{}
\DoxyCodeLine{77 \textcolor{keyword}{public}:}
\DoxyCodeLine{78     \mbox{\hyperlink{class_sine_wave_sound_af1dfb9e849eab978326598254534fb3a}{SineWaveSound}}() \{\}}
\DoxyCodeLine{79     }
\DoxyCodeLine{80     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_sine_wave_sound_a806a3d566fa0a1b167f744f73a0cfa75}{appliesToNote}}(\textcolor{keywordtype}{int})\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{81     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_sine_wave_sound_ab839ea9ddfc118bc18699443c3b6baad}{appliesToChannel}}(\textcolor{keywordtype}{int})\textcolor{keyword}{ override }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{82 \};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{keyword}{class }\mbox{\hyperlink{class_sine_wave_voice}{SineWaveVoice}} : \textcolor{keyword}{public} juce::SynthesiserVoice}
\DoxyCodeLine{85 \{}
\DoxyCodeLine{86 \textcolor{keyword}{public}:}
\DoxyCodeLine{87     \textcolor{keyword}{enum} \mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652}{WaveType}} \{}
\DoxyCodeLine{88         \mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a363d8857f36546f3dcf14894424e9473}{SINE}} = 0,}
\DoxyCodeLine{89         \mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a06d9f3bd4c819e911cac1db863b673ad}{TRIANGLE}},}
\DoxyCodeLine{90         \mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a8b7a0ba85edcb6aaadadfe67c816061b}{SAW}},}
\DoxyCodeLine{91         \mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a25521e0b2bf792429511019a1646b05c}{SQUARE}}}
\DoxyCodeLine{92     \};}
\DoxyCodeLine{93 \textcolor{keyword}{private}:}
\DoxyCodeLine{94     juce::ADSR adsr;}
\DoxyCodeLine{95     juce::ADSR::Parameters adsrParameters;}
\DoxyCodeLine{96     }
\DoxyCodeLine{97     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} tableSize = 1 << 7;}
\DoxyCodeLine{98     \textcolor{keywordtype}{float} masterVolume;}
\DoxyCodeLine{99     }
\DoxyCodeLine{100     juce::AudioSampleBuffer sineTable, sawTable, triTable, squareTable;}
\DoxyCodeLine{101     juce::OwnedArray<WavetableOscillator> oscillators;}
\DoxyCodeLine{102     }
\DoxyCodeLine{103     \mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652}{WaveType}} waveType;}
\DoxyCodeLine{104     }
\DoxyCodeLine{105     std::unique\_ptr<WavetableOscillator> oscillator;}
\DoxyCodeLine{106     \textcolor{comment}{//auto osc : oscillators;}}
\DoxyCodeLine{107     }
\DoxyCodeLine{108 \textcolor{keyword}{public}:}
\DoxyCodeLine{109     }
\DoxyCodeLine{110     \mbox{\hyperlink{class_sine_wave_voice_aef79b6b4cc2819540c94cab1d1f0ee7d}{SineWaveVoice}}()}
\DoxyCodeLine{111     \{}
\DoxyCodeLine{112         \mbox{\hyperlink{class_sine_wave_voice_ad014ba41344867020ed7931d33d3305f}{createTriWavetable}}();}
\DoxyCodeLine{113         \mbox{\hyperlink{class_sine_wave_voice_a46f14cb2f00beb0ae65d6c3446774b87}{createSineWavetable}}();}
\DoxyCodeLine{114         \mbox{\hyperlink{class_sine_wave_voice_adfdb19807b86dfd1e40dd388058008e6}{createSawWavetable}}();}
\DoxyCodeLine{115         \mbox{\hyperlink{class_sine_wave_voice_ad2bff3c7dc8eaa41b14611434ca3f380}{createSquareWavetable}}();}
\DoxyCodeLine{116         }
\DoxyCodeLine{117         oscillator = std::make\_unique<WavetableOscillator>(sineTable);}
\DoxyCodeLine{118         }
\DoxyCodeLine{119         }
\DoxyCodeLine{120       }
\DoxyCodeLine{121         \mbox{\hyperlink{class_sine_wave_voice_a93aae7eda11dc4960e5667e21f95ae0c}{setWaveType}}(\mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a363d8857f36546f3dcf14894424e9473}{WaveType::SINE}});}
\DoxyCodeLine{122     \}}
\DoxyCodeLine{123     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a93aae7eda11dc4960e5667e21f95ae0c}{setWaveType}}(\mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652}{WaveType}} type, \textcolor{keywordtype}{bool} disableCheck = \textcolor{keyword}{false})}
\DoxyCodeLine{124     \{}
\DoxyCodeLine{125         \textcolor{keywordflow}{if}(!disableCheck)}
\DoxyCodeLine{126             \textcolor{keywordflow}{if}(type == waveType)\textcolor{keywordflow}{return};}
\DoxyCodeLine{127         }
\DoxyCodeLine{128         }
\DoxyCodeLine{129         \textcolor{keywordflow}{switch}(type)\{}
\DoxyCodeLine{130             \textcolor{keywordflow}{case}(\mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a363d8857f36546f3dcf14894424e9473}{SINE}}):}
\DoxyCodeLine{131                 oscillator-\/>setWavetable(sineTable);}
\DoxyCodeLine{132                 }
\DoxyCodeLine{133                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{134             \textcolor{keywordflow}{case}(\mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a06d9f3bd4c819e911cac1db863b673ad}{TRIANGLE}}):}
\DoxyCodeLine{135                 oscillator-\/>setWavetable(triTable);}
\DoxyCodeLine{136                 }
\DoxyCodeLine{137                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{138             \textcolor{keywordflow}{case}(\mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a8b7a0ba85edcb6aaadadfe67c816061b}{SAW}}):}
\DoxyCodeLine{139                 oscillator-\/>setWavetable(sawTable);}
\DoxyCodeLine{140                 }
\DoxyCodeLine{141                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{142             \textcolor{keywordflow}{case}(\mbox{\hyperlink{class_sine_wave_voice_a8fc75035f26947fa7aa1342810c6d652a25521e0b2bf792429511019a1646b05c}{SQUARE}}):}
\DoxyCodeLine{143                 oscillator-\/>setWavetable(squareTable);}
\DoxyCodeLine{144                 }
\DoxyCodeLine{145                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{146             default :}
\DoxyCodeLine{147                 oscillator-\/>setWavetable(sineTable);}
\DoxyCodeLine{148                 }
\DoxyCodeLine{149                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{150         \}}
\DoxyCodeLine{151         }
\DoxyCodeLine{152         waveType = type;}
\DoxyCodeLine{153     \}}
\DoxyCodeLine{154     }
\DoxyCodeLine{155     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_sine_wave_voice_a0eff5773a344db0627cc0a57696bde6f}{canPlaySound}}(juce::SynthesiserSound* sound)\textcolor{keyword}{ override}}
\DoxyCodeLine{156 \textcolor{keyword}{    }\{}
\DoxyCodeLine{157         \textcolor{keywordflow}{return} \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_sine_wave_sound}{SineWaveSound}}*\textcolor{keyword}{>}(sound) != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{158     \}}
\DoxyCodeLine{159     }
\DoxyCodeLine{160     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a46f14cb2f00beb0ae65d6c3446774b87}{createSineWavetable}}()}
\DoxyCodeLine{161     \{}
\DoxyCodeLine{162         sineTable.setSize (1, (\textcolor{keywordtype}{int}) tableSize + 1);}
\DoxyCodeLine{163         sineTable.clear();}
\DoxyCodeLine{164         }
\DoxyCodeLine{165         \textcolor{keyword}{auto}* samples = sineTable.getWritePointer (0);}
\DoxyCodeLine{166         }
\DoxyCodeLine{167         \textcolor{keyword}{auto} angleDelta = juce::MathConstants<double>::twoPi / (double) (tableSize);}
\DoxyCodeLine{168         \textcolor{keyword}{auto} currentAngle = 0.0;}
\DoxyCodeLine{169         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tableSize; ++i)}
\DoxyCodeLine{170         \{}
\DoxyCodeLine{171             \textcolor{keyword}{auto} sample = std::sin(currentAngle);}
\DoxyCodeLine{172             samples[i] += (float) sample;}
\DoxyCodeLine{173             currentAngle += angleDelta;}
\DoxyCodeLine{174         \}}
\DoxyCodeLine{175         samples[tableSize] = samples[0];}
\DoxyCodeLine{176         }
\DoxyCodeLine{177         }
\DoxyCodeLine{178     \}}
\DoxyCodeLine{179     }
\DoxyCodeLine{180     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_adfdb19807b86dfd1e40dd388058008e6}{createSawWavetable}}()}
\DoxyCodeLine{181     \{}
\DoxyCodeLine{182         sawTable.setSize(1, (\textcolor{keywordtype}{int})tableSize + 1);}
\DoxyCodeLine{183         sawTable.clear();}
\DoxyCodeLine{184         }
\DoxyCodeLine{185         \textcolor{keyword}{auto}* samples = sawTable.getWritePointer(0);}
\DoxyCodeLine{186         }
\DoxyCodeLine{187         \textcolor{keyword}{auto} angleDelta = 1.0 / (double)(tableSize);}
\DoxyCodeLine{188         \textcolor{keyword}{auto} currentAngle = 0.0;}
\DoxyCodeLine{189         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tableSize; ++i)}
\DoxyCodeLine{190         \{}
\DoxyCodeLine{191             \textcolor{keyword}{auto} sample = 2.0 * (currentAngle -\/ floor(0.5 + currentAngle));}
\DoxyCodeLine{192             samples[i] += (float)sample;}
\DoxyCodeLine{193             currentAngle += angleDelta;}
\DoxyCodeLine{194         \}}
\DoxyCodeLine{195         samples[tableSize] = samples[0];}
\DoxyCodeLine{196         }
\DoxyCodeLine{197         }
\DoxyCodeLine{198     \}}
\DoxyCodeLine{199     }
\DoxyCodeLine{200     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_ad2bff3c7dc8eaa41b14611434ca3f380}{createSquareWavetable}}()}
\DoxyCodeLine{201     \{}
\DoxyCodeLine{202         squareTable.setSize(1, (\textcolor{keywordtype}{int})tableSize + 1);}
\DoxyCodeLine{203         squareTable.clear();}
\DoxyCodeLine{204         }
\DoxyCodeLine{205         \textcolor{keyword}{auto}* samples = squareTable.getWritePointer(0);}
\DoxyCodeLine{206         }
\DoxyCodeLine{207         \textcolor{keyword}{auto} angleDelta = 1.0 / (double)(tableSize);}
\DoxyCodeLine{208         \textcolor{keyword}{auto} currentAngle = 0.0;}
\DoxyCodeLine{209         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tableSize; ++i)}
\DoxyCodeLine{210         \{}
\DoxyCodeLine{211             \textcolor{keyword}{auto} sample = 2.0 * (2.0 * floor(currentAngle) -\/ floor(2.0 * currentAngle)) + 1.0;}
\DoxyCodeLine{212             samples[i] += (float)sample;}
\DoxyCodeLine{213             currentAngle += angleDelta;}
\DoxyCodeLine{214         \}}
\DoxyCodeLine{215         samples[tableSize] = samples[0];}
\DoxyCodeLine{216         }
\DoxyCodeLine{217         }
\DoxyCodeLine{218     \}}
\DoxyCodeLine{219     }
\DoxyCodeLine{220     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_ad014ba41344867020ed7931d33d3305f}{createTriWavetable}}()}
\DoxyCodeLine{221     \{}
\DoxyCodeLine{222         triTable.setSize(1, (\textcolor{keywordtype}{int})tableSize + 1);}
\DoxyCodeLine{223         triTable.clear();}
\DoxyCodeLine{224         }
\DoxyCodeLine{225         \textcolor{keyword}{auto}* samples = triTable.getWritePointer(0);}
\DoxyCodeLine{226         }
\DoxyCodeLine{227         \textcolor{keyword}{auto} angleDelta = 1.0 / (double)(tableSize);}
\DoxyCodeLine{228         \textcolor{keyword}{auto} currentAngle = 0.0;}
\DoxyCodeLine{229         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tableSize; ++i)}
\DoxyCodeLine{230         \{}
\DoxyCodeLine{231             \textcolor{keyword}{auto} sample = 4.0 * abs(currentAngle -\/ floor(currentAngle + 0.75) + 0.25) -\/ 1.0;}
\DoxyCodeLine{232             samples[i] += (float)sample;}
\DoxyCodeLine{233             currentAngle += angleDelta;}
\DoxyCodeLine{234         \}}
\DoxyCodeLine{235         samples[tableSize] = samples[0];}
\DoxyCodeLine{236         }
\DoxyCodeLine{237         }
\DoxyCodeLine{238     \}}
\DoxyCodeLine{239     }
\DoxyCodeLine{240     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a860308f7f268245be7a08cd2ccbcf0be}{startNote}}(\textcolor{keywordtype}{int} midiNoteNumber, \textcolor{keywordtype}{float} velocity, juce::SynthesiserSound*, \textcolor{keywordtype}{int} \textcolor{comment}{/*currentPitchWheelPosition*/})\textcolor{keyword}{ override}}
\DoxyCodeLine{241 \textcolor{keyword}{    }\{}
\DoxyCodeLine{242         \textcolor{keyword}{auto} sampleRate = getSampleRate();}
\DoxyCodeLine{243         }
\DoxyCodeLine{244         \mbox{\hyperlink{class_sine_wave_voice_a93aae7eda11dc4960e5667e21f95ae0c}{setWaveType}}(waveType,\textcolor{keyword}{true});}
\DoxyCodeLine{245         }
\DoxyCodeLine{246         \textcolor{keyword}{auto} frequency = juce::MidiMessage::getMidiNoteInHertz(midiNoteNumber);}
\DoxyCodeLine{247         }
\DoxyCodeLine{248         oscillator-\/>setFrequency((\textcolor{keywordtype}{float})frequency, (\textcolor{keywordtype}{float})sampleRate);}
\DoxyCodeLine{249         }
\DoxyCodeLine{250         adsr.noteOn();}
\DoxyCodeLine{251     \}}
\DoxyCodeLine{252     }
\DoxyCodeLine{253     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a8f49890bc1a43e2079f8dd2984c14b1c}{stopNote}}(\textcolor{keywordtype}{float} \textcolor{comment}{/*velocity*/}, \textcolor{keywordtype}{bool} allowTailOff)\textcolor{keyword}{ override}}
\DoxyCodeLine{254 \textcolor{keyword}{    }\{}
\DoxyCodeLine{255         adsr.noteOff();}
\DoxyCodeLine{256         }
\DoxyCodeLine{257         \textcolor{keywordflow}{if} (!allowTailOff || !adsr.isActive())}
\DoxyCodeLine{258         \{}
\DoxyCodeLine{259             clearCurrentNote();}
\DoxyCodeLine{260         \}}
\DoxyCodeLine{261     \}}
\DoxyCodeLine{262     }
\DoxyCodeLine{263     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a3d89afa9a58abb316ad90ec143446438}{prepareToPlay}}(\textcolor{keywordtype}{double} sampleRate)}
\DoxyCodeLine{264     \{}
\DoxyCodeLine{265         \mbox{\hyperlink{class_sine_wave_voice_a89a752eac3b9f7ae3bd3e3c05feecaff}{reset}}();}
\DoxyCodeLine{266         }
\DoxyCodeLine{267         sampleRate = getSampleRate();}
\DoxyCodeLine{268         adsr.setSampleRate(sampleRate); }
\DoxyCodeLine{269     \}}
\DoxyCodeLine{270     }
\DoxyCodeLine{271     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_ae7b6c73b0b3e58da9080e84321ea590f}{setVolume}}(\textcolor{keywordtype}{float} theMasterVolume)}
\DoxyCodeLine{272     \{}
\DoxyCodeLine{273         masterVolume = theMasterVolume;}
\DoxyCodeLine{274     \}}
\DoxyCodeLine{275     }
\DoxyCodeLine{276     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_ac07be0e4960de3a4d5d3fa506b2bf9d5}{renderNextBlock}}(juce::AudioSampleBuffer\& outputBuffer, \textcolor{keywordtype}{int} startSample, \textcolor{keywordtype}{int} numSamples)\textcolor{keyword}{ override}}
\DoxyCodeLine{277 \textcolor{keyword}{    }\{}
\DoxyCodeLine{278         }
\DoxyCodeLine{279         \textcolor{keywordflow}{while}(-\/-\/numSamples >= 0)}
\DoxyCodeLine{280         \{}
\DoxyCodeLine{281             \textcolor{keyword}{auto} oscillatorOutput = 0.0f;}
\DoxyCodeLine{282             }
\DoxyCodeLine{283             oscillatorOutput+= oscillator-\/>getNextSample();}
\DoxyCodeLine{284             \textcolor{keyword}{auto} currentSample = oscillatorOutput * masterVolume * adsr.getNextSample();}
\DoxyCodeLine{285             }
\DoxyCodeLine{286             }
\DoxyCodeLine{287             \textcolor{keywordflow}{for}( \textcolor{keyword}{auto} i = outputBuffer.getNumChannels(); -\/-\/i >= 0;)outputBuffer.addSample(i, startSample, currentSample);}
\DoxyCodeLine{288             ++startSample;}
\DoxyCodeLine{289         \}}
\DoxyCodeLine{290 }
\DoxyCodeLine{291         }
\DoxyCodeLine{292     \}}
\DoxyCodeLine{293     }
\DoxyCodeLine{294     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a4e9d1a71df7e368539f3864b2c253504}{pitchWheelMoved}}(\textcolor{keywordtype}{int})\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{295     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a496d9abe5e688d901c3771575e42968b}{controllerMoved}}(\textcolor{keywordtype}{int}, \textcolor{keywordtype}{int})\textcolor{keyword}{ override }\{\}}
\DoxyCodeLine{296     }
\DoxyCodeLine{297     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_a89a752eac3b9f7ae3bd3e3c05feecaff}{reset}}()}
\DoxyCodeLine{298     \{}
\DoxyCodeLine{299         adsr.reset();}
\DoxyCodeLine{300     \}}
\DoxyCodeLine{301     }
\DoxyCodeLine{302     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_sine_wave_voice_ab33ef6d02782ba1696408ffc00138529}{setADSRParameters}}(\textcolor{keyword}{const} \textcolor{keywordtype}{float} attack, \textcolor{keyword}{const}  \textcolor{keywordtype}{float} decay, \textcolor{keyword}{const} \textcolor{keywordtype}{float} sustain, \textcolor{keyword}{const} \textcolor{keywordtype}{float} release)}
\DoxyCodeLine{303     \{}
\DoxyCodeLine{304         adsrParameters.attack = attack;}
\DoxyCodeLine{305         adsrParameters.decay = decay;}
\DoxyCodeLine{306         adsrParameters.sustain = sustain;}
\DoxyCodeLine{307         adsrParameters.release = release;}
\DoxyCodeLine{308         }
\DoxyCodeLine{309         adsr.setParameters(adsrParameters);}
\DoxyCodeLine{310     \}}
\DoxyCodeLine{311     }
\DoxyCodeLine{312 \};}
\DoxyCodeLine{313 }
\DoxyCodeLine{314 \textcolor{keyword}{class }\mbox{\hyperlink{class_synth_audio_source}{SynthAudioSource}}  : \textcolor{keyword}{public} juce::AudioSource}
\DoxyCodeLine{315 \{}
\DoxyCodeLine{316 \textcolor{keyword}{public}:}
\DoxyCodeLine{317     \mbox{\hyperlink{class_synth_audio_source_a4f7692b35b307fb5159220cb44bdfaa1}{SynthAudioSource}}(juce::MidiKeyboardState\& keyState)}
\DoxyCodeLine{318     : keyboardState(keyState)}
\DoxyCodeLine{319     \{}
\DoxyCodeLine{320         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < 10; ++i)synth.addVoice(\textcolor{keyword}{new} \mbox{\hyperlink{class_sine_wave_voice}{SineWaveVoice}}());}
\DoxyCodeLine{321         synth.addSound(\textcolor{keyword}{new} \mbox{\hyperlink{class_sine_wave_sound}{SineWaveSound}}());}
\DoxyCodeLine{322     \}}
\DoxyCodeLine{323     }
\DoxyCodeLine{324     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_synth_audio_source_a78cf58ca1fba743c91cb08a2f1b6da58}{setUsingSineWaveSound}}()}
\DoxyCodeLine{325     \{}
\DoxyCodeLine{326         synth.clearSounds();}
\DoxyCodeLine{327     \}}
\DoxyCodeLine{328     }
\DoxyCodeLine{329     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_synth_audio_source_a9923d4a5011b0a3c73cebca9c7214077}{prepareToPlay}}(\textcolor{keywordtype}{int} \textcolor{comment}{/*samplesPerBlock*/}, \textcolor{keywordtype}{double} sampleRate)\textcolor{keyword}{ override}}
\DoxyCodeLine{330 \textcolor{keyword}{    }\{}
\DoxyCodeLine{331         synth.setCurrentPlaybackSampleRate(sampleRate);}
\DoxyCodeLine{332         midiCollector.reset(sampleRate);}
\DoxyCodeLine{333         }
\DoxyCodeLine{334     \}}
\DoxyCodeLine{335     }
\DoxyCodeLine{336     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_synth_audio_source_ac443459932ce478082ddc5c2765d919b}{releaseResources}}()\textcolor{keyword}{ override}\{\}}
\DoxyCodeLine{337     }
\DoxyCodeLine{338     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_synth_audio_source_a1133866215823f6274c236cf551a499f}{getNextAudioBlock}}(\textcolor{keyword}{const} juce::AudioSourceChannelInfo\& bufferToFill)\textcolor{keyword}{ override}}
\DoxyCodeLine{339 \textcolor{keyword}{    }\{}
\DoxyCodeLine{340         }
\DoxyCodeLine{341         }
\DoxyCodeLine{342         juce::MidiBuffer incomingMidi;}
\DoxyCodeLine{343         midiCollector.removeNextBlockOfMessages(incomingMidi, bufferToFill.numSamples);}
\DoxyCodeLine{344         }
\DoxyCodeLine{345         keyboardState.processNextMidiBuffer(incomingMidi, bufferToFill.startSample, bufferToFill.numSamples, \textcolor{keyword}{true});}
\DoxyCodeLine{346         }
\DoxyCodeLine{347         synth.renderNextBlock(*bufferToFill.buffer, incomingMidi, bufferToFill.startSample, bufferToFill.numSamples);}
\DoxyCodeLine{348     \}}
\DoxyCodeLine{349     }
\DoxyCodeLine{350     juce::MidiMessageCollector* \mbox{\hyperlink{class_synth_audio_source_aaabf5e9a7e2ffeefbe9d7d013962630d}{getMidiCollector}}()}
\DoxyCodeLine{351     \{}
\DoxyCodeLine{352         \textcolor{keywordflow}{return} \&midiCollector;}
\DoxyCodeLine{353     \}}
\DoxyCodeLine{354     }
\DoxyCodeLine{355 \textcolor{keyword}{private}:}
\DoxyCodeLine{356     juce::MidiKeyboardState\& keyboardState;}
\DoxyCodeLine{357     juce::Synthesiser synth;}
\DoxyCodeLine{358     }
\DoxyCodeLine{359     juce::MidiMessageCollector midiCollector;}
\DoxyCodeLine{360     }
\DoxyCodeLine{361 \};}
\DoxyCodeLine{362 }
\DoxyCodeLine{363 \textcolor{keyword}{class }\mbox{\hyperlink{class_mysynthprac_audio_processor}{MysynthpracAudioProcessor}}  : \textcolor{keyword}{public} juce::AudioProcessor, \textcolor{keyword}{private} juce::Timer}
\DoxyCodeLine{364 \textcolor{preprocessor}{\#if JucePlugin\_Enable\_ARA}}
\DoxyCodeLine{365 , \textcolor{keyword}{public} juce::AudioProcessorARAExtension}
\DoxyCodeLine{366 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{367 \{}
\DoxyCodeLine{368 \textcolor{keyword}{public}:}
\DoxyCodeLine{369     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{370     \mbox{\hyperlink{class_mysynthprac_audio_processor_a26eb84c61338978d6c6e387a9017d688}{MysynthpracAudioProcessor}}();}
\DoxyCodeLine{371     \mbox{\hyperlink{class_mysynthprac_audio_processor_af2e2311718f40a0aaf7db88f98aed7ce}{\string~MysynthpracAudioProcessor}}() \textcolor{keyword}{override};}
\DoxyCodeLine{372     }
\DoxyCodeLine{373     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{374     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_ab86f0c96cec6e652b182952bb29d2654}{prepareToPlay}} (\textcolor{keywordtype}{double} sampleRate, \textcolor{keywordtype}{int} samplesPerBlock) \textcolor{keyword}{override};}
\DoxyCodeLine{375     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_ab56d0f1ac7da10205e1c84954ed7093d}{releaseResources}}() \textcolor{keyword}{override};}
\DoxyCodeLine{376     }
\DoxyCodeLine{377 \textcolor{preprocessor}{\#ifndef JucePlugin\_PreferredChannelConfigurations}}
\DoxyCodeLine{378     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_mysynthprac_audio_processor_a87d380310bdf6570abbf32bcd32b2c11}{isBusesLayoutSupported}} (\textcolor{keyword}{const} BusesLayout\& layouts) \textcolor{keyword}{const override};}
\DoxyCodeLine{379 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{380     }
\DoxyCodeLine{381     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_a2a3625375542ca79c9d43e5d37b3abd1}{processBlock}} (juce::AudioBuffer<float>\&, juce::MidiBuffer\&) \textcolor{keyword}{override};}
\DoxyCodeLine{382     }
\DoxyCodeLine{383     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{384     juce::AudioProcessorEditor* \mbox{\hyperlink{class_mysynthprac_audio_processor_aac2d87c11a0e23196fea6dc9a1472a20}{createEditor}}() \textcolor{keyword}{override};}
\DoxyCodeLine{385     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_mysynthprac_audio_processor_a067b10156850ea95d3a1964baa244320}{hasEditor}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{386     }
\DoxyCodeLine{387     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{388     \textcolor{keyword}{const} juce::String \mbox{\hyperlink{class_mysynthprac_audio_processor_a5a66ece4104e491828cc5b47ba7665d4}{getName}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{389     }
\DoxyCodeLine{390     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_mysynthprac_audio_processor_a23f5281ae07427676f701858e050709c}{acceptsMidi}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{391     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_mysynthprac_audio_processor_ab9dbb4787eda60d5eb6134485fc787fd}{producesMidi}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{392     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_mysynthprac_audio_processor_a1a005dc45f8327b380e52e66747e28da}{isMidiEffect}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{393     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_mysynthprac_audio_processor_a646efcb119698c41652526cc91fe88d6}{getTailLengthSeconds}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{394     }
\DoxyCodeLine{395     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{396     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_mysynthprac_audio_processor_a157dc0cb9cab23511d168eefb77253b5}{getNumPrograms}}() \textcolor{keyword}{override};}
\DoxyCodeLine{397     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_mysynthprac_audio_processor_aa02485610a141dfda6de440184bba0eb}{getCurrentProgram}}() \textcolor{keyword}{override};}
\DoxyCodeLine{398     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_a37176d169184893ac4a9a76542112f65}{setCurrentProgram}} (\textcolor{keywordtype}{int} index) \textcolor{keyword}{override};}
\DoxyCodeLine{399     \textcolor{keyword}{const} juce::String \mbox{\hyperlink{class_mysynthprac_audio_processor_af41f0af1f72a32d450a78a9ab0930eab}{getProgramName}} (\textcolor{keywordtype}{int} index) \textcolor{keyword}{override};}
\DoxyCodeLine{400     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_a2daaf078ae32da000af57d4d70ab8909}{changeProgramName}} (\textcolor{keywordtype}{int} index, \textcolor{keyword}{const} juce::String\& newName) \textcolor{keyword}{override};}
\DoxyCodeLine{401     }
\DoxyCodeLine{402     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{403     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_aafdb555cd7b00d795c16e888ea9b0557}{getStateInformation}} (juce::MemoryBlock\& destData) \textcolor{keyword}{override};}
\DoxyCodeLine{404     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_a0404a27aa0c84da6562dea5bc0c287df}{setStateInformation}} (\textcolor{keyword}{const} \textcolor{keywordtype}{void}* data, \textcolor{keywordtype}{int} sizeInBytes) \textcolor{keyword}{override};}
\DoxyCodeLine{405     }
\DoxyCodeLine{406     juce::AudioProcessorValueTreeState \mbox{\hyperlink{class_mysynthprac_audio_processor_a9d223e3dc6f3f4a2aec957e818cbfc46}{state}};}
\DoxyCodeLine{407     juce::AudioBuffer<float> \mbox{\hyperlink{class_mysynthprac_audio_processor_a47b4047cdd9c705f94a4412bce8f96e9}{cachedBuffer}};}
\DoxyCodeLine{408 }
\DoxyCodeLine{409     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_mysynthprac_audio_processor_a3993a39d7cf1732c2b2715a3a39342ee}{setLadderFilter}}();}
\DoxyCodeLine{410 }
\DoxyCodeLine{411 \textcolor{keyword}{private}:}
\DoxyCodeLine{412     \textcolor{comment}{//==============================================================================}}
\DoxyCodeLine{413     juce::MidiKeyboardState keyboardState;}
\DoxyCodeLine{414     \textcolor{comment}{//SynthAudioSource synthAudioSource;}}
\DoxyCodeLine{415     \textcolor{comment}{//juce::MidiKeyboardComponent keyboardComponent;}}
\DoxyCodeLine{416     juce::Synthesiser synth;}
\DoxyCodeLine{417     }
\DoxyCodeLine{418     juce::dsp::LadderFilter<float> filter;}
\DoxyCodeLine{419     }
\DoxyCodeLine{420     \textcolor{comment}{//MIDI inputs}}
\DoxyCodeLine{421     juce::ComboBox midiInputList;}
\DoxyCodeLine{422     juce::Label midiInputListLabel;}
\DoxyCodeLine{423     \textcolor{keywordtype}{int} lastInputIndex = 0;}
\DoxyCodeLine{424     }
\DoxyCodeLine{425     \textcolor{keywordtype}{void} timerCallback()\textcolor{keyword}{ override}}
\DoxyCodeLine{426 \textcolor{keyword}{    }\{}
\DoxyCodeLine{427         \textcolor{comment}{//keyboardComponent.grabKeyboardFocus();}}
\DoxyCodeLine{428         stopTimer();}
\DoxyCodeLine{429     \}}
\DoxyCodeLine{430     JUCE\_DECLARE\_NON\_COPYABLE\_WITH\_LEAK\_DETECTOR (\mbox{\hyperlink{class_mysynthprac_audio_processor}{MysynthpracAudioProcessor}})}
\DoxyCodeLine{431 \};}

\end{DoxyCode}
